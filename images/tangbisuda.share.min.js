/*!
 * Tang Bisuda Social Plugin v2.0.6
 * Social Networking Service share library
 * http://tangbisuda.tistory.com
 * MIT License
 * by Roland John
 */
!function(e){var t=!1,n=window.navigator.userAgent.toString().toLowerCase();n.match(/iphone|ipad|ipod|android/)&&(t=!0),e.fn.share=function(n){var o={icon:"default",align:"center",size:"normal",kakaoActive:!0,kakaoKey:""},r=e.extend({},o,n);return this.each(function(){if(e(this).addClass(r.icon),e(this).addClass(r.align),e(this).addClass(r.size),0==e('script[type="application/ld+json"]').length)return!1;var n=e.parseJSON(e('script[type="application/ld+json"]').html());if("TISTORY"!==n.publisher.name)return!1;var o={kakaostory:{url:"https://story.kakao.com/share",width:600,height:600,makeShareUrl:function(e,t){return this.url+"?text="+encodeURIComponent(t+" "+e)+"&url="+encodeURIComponent(e)}},facebook:{url:"https://www.facebook.com/sharer/sharer.php",width:640,height:400,makeShareUrl:function(e){return this.url+"?display=popup&u="+encodeURIComponent(e)}},twitter:{url:"https://twitter.com/share",width:550,height:420,makeShareUrl:function(e,t){return this.url+"?text="+encodeURIComponent(t)+"&url="+encodeURIComponent(e)}},googleplus:{url:"https://plus.google.com/share",width:500,height:600,makeShareUrl:function(e){return this.url+"?url="+encodeURIComponent(e)}},tumblr:{url:"http://www.tumblr.com/share/link",width:600,height:400,makeShareUrl:function(e,t,n){return this.url+"?name="+encodeURIComponent(t)+"&url="+encodeURIComponent(e)+"&description="+encodeURIComponent(n)}},pinterest:{url:"http://pinterest.com/pin/create/button/",width:800,height:400,makeShareUrl:function(e,t,n,o){return this.url+"?url="+encodeURIComponent(e)+"&media="+encodeURIComponent(o)+"&description="+encodeURIComponent(t)}},naver:{url:"http://share.naver.com/web/shareView.nhn",width:600,height:600,makeShareUrl:function(e,t){return this.url+"?url="+encodeURIComponent(e)+"&title="+encodeURIComponent(t)}}};t&&r.kakaoActive&&(e("li.sbg.sb-kakaotalk").css("display","inline-block"),Kakao.init(r.kakaoKey),Kakao.Link.createTalkLinkButton({container:".sb-kakaotalk",label:n.headline,image:{src:"http://i1.daumcdn.net/thumb/C400x400/?fname="+encodeURIComponent(n.image.url),width:n.image.width.replace(/800px/g,"400"),height:n.image.height.replace(/800px/g,"400")},webButton:{text:"웹으로 이동",url:n.url}})),e(".share-bar-group").on("click","li",function(a){var i=e(this),h=i.data("service"),l=o[h];l&&("kakaostory"==h&&t&&r.kakaoActive&&r.kakaoKey?Kakao.Story.open({url:n.url,text:n.headline}):(a.preventDefault(),window.open(l.makeShareUrl(n.url,n.headline,n.description,n.image.url),"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width="+l.width+", height="+l.height)))})})}}(jQuery);
